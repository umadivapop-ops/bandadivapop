Minimal JS for menu toggle and simple lightbox gallery\ndocument.addEventListener('DOMContentLoaded', function(){\nconst btn = document.getElementById('menu-btn');\nconst nav = document.getElementById('nav');\nif(btn) btn.addEventListener('click', ()=>{ nav.classList.toggle('open'); });\nLightbox for gallery\nconst items = document.querySelectorAll('.gallery a');\nconst lightbox = document.createElement('div');\nlightbox.id='lightbox'; lightbox.style.cssText='position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.8);padding:20px;z-index:999;visibility:hidden;opacity:0;transition:opacity .2s';\nconst img = document.createElement('img'); img.style.maxWidth='90%'; img.style.maxHeight='90%'; img.style.borderRadius='8px';\nlightbox.appendChild(img); document.body.appendChild(lightbox);\nlightbox.addEventListener('click',()=>{ lightbox.style.opacity=0; lightbox.style.visibility='hidden'; });\nitems.forEach(a=>{\na.addEventListener('click', (e)=>{\ne.preventDefault();\nimg.src = a.href;\nlightbox.style.visibility='visible'; lightbox.style.opacity=1;\n});\n});\n});\nService worker registration\nif ('serviceWorker' in navigator) {\nnavigator.serviceWorker.register('jslight mode automatic + toggle\n(function(){\nconst prefers = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\nconst root = document.documentElement;\nif(prefers) root.setAttribute('data-theme','dark');\nadd small toggle if any\nwindow.toggleTheme = function(){\nif(root.getAttribute('data-theme')==='dark') root.setAttribute('data-theme','light'); else root.setAttribute('data-theme','dark');\n};\n})();\nContact form offline storage and download\ndocument.addEventListener('DOMContentLoaded', function(){\nconst form = document.querySelector('form');\nif(!form) return;\nform.addEventListener('submit', function(e){\ne.preventDefault();\nconst data = {};\nnew FormData(form).forEach((v,k)=>data[k]=v);\ntry to POST to Formspree (placeholder) else store locally\nfetch(form.action || 'json'}}).then(r=>{\nalert('Mensagem enviada (modo online). Obrigado!');\nform.reset();\n}).catch(err=>{\noffline fallback: save to localStorage and prompt download\nconst stash = JSON.parse(localStorage.getItem('divapop_offline_msgs')||'[]');\nstash.push({ts:Date.now(), data});\nlocalStorage.setItem('divapop_offline_msgs', JSON.stringify(stash));\nalert('Você está offline. Mensagem salva localmente. Você também pode baixar um arquivo com os dados.');\ncreate downloadable blob\nconst blob = new Blob([JSON.stringify(data, null, 2)], {type:'application/json'});\nconst url = URL.createObjectURL(blob);\nconst a = document.createElement('a'); a.href = url; a.download = 'mensagem_divapop.json'; a.click();\nURL.revokeObjectURL(url);\nform.reset();\n});\n});\n});